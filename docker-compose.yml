services:
    # nginx:
    #     image: nginx:latest
    #     container_name: my-nginx
    #     ports:
    #         - '80:80'
    #         - '443:443'
    #     volumes:
    #         - /etc/letsencrypt/live/brain-gateway.bessemer.io/fullchain.pem:/etc/nginx/ssl/fullchain.pem:ro
    #         - /etc/letsencrypt/live/brain-gateway.bessemer.io/privkey.pem:/etc/nginx/ssl/privkey.pem:ro
    #         - ./nginx.conf:/etc/nginx/nginx.conf:ro
    #     depends_on:
    #         - api
    #     restart: always

    api:
        build:
            context: .
            dockerfile: Dockerfile
        container_name: bvp-brain-api
        volumes:
            - .:/app
            - /app/node_modules
        working_dir: /app
        env_file:
            - .env
        ports:
            - '3001:3001'
        restart: always
